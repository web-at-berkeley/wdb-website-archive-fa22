{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar tslib_1 = require(\"tslib\");\n\nvar Canvas_1 = require(\"./Canvas\");\n\nvar EventListeners_1 = require(\"../Utils/EventListeners\");\n\nvar Particles_1 = require(\"./Particles\");\n\nvar Retina_1 = require(\"./Retina\");\n\nvar FrameManager_1 = require(\"./FrameManager\");\n\nvar Options_1 = require(\"../Options/Classes/Options\");\n\nvar Plugins_1 = require(\"../Utils/Plugins\");\n\nvar SimplexNoise_1 = require(\"../Utils/SimplexNoise\");\n\nvar Container = function () {\n  function Container(id, params) {\n    var presets = [];\n\n    for (var _i = 2; _i < arguments.length; _i++) {\n      presets[_i - 2] = arguments[_i];\n    }\n\n    this.started = false;\n    this.destroyed = false;\n    this.id = id;\n    this.paused = true;\n    this.sourceOptions = params;\n    this.lastFrameTime = 0;\n    this.pageHidden = false;\n    this.retina = new Retina_1.Retina(this);\n    this.canvas = new Canvas_1.Canvas(this);\n    this.particles = new Particles_1.Particles(this);\n    this.drawer = new FrameManager_1.FrameManager(this);\n    this.interactivity = {\n      mouse: {}\n    };\n    this.bubble = {};\n    this.repulse = {\n      particles: []\n    };\n    this.plugins = {};\n    this.drawers = {};\n    this.density = 1;\n    this.options = new Options_1.Options();\n\n    for (var _a = 0, presets_1 = presets; _a < presets_1.length; _a++) {\n      var preset = presets_1[_a];\n      this.options.load(Plugins_1.Plugins.getPreset(preset));\n    }\n\n    for (var _b = 0, _c = Plugins_1.Plugins.getSupportedShapes(); _b < _c.length; _b++) {\n      var type = _c[_b];\n      this.drawers[type] = Plugins_1.Plugins.getShapeDrawer(type);\n    }\n\n    if (this.sourceOptions) {\n      this.options.load(this.sourceOptions);\n    }\n\n    this.simplex = new SimplexNoise_1.SimplexNoise();\n    this.eventListeners = new EventListeners_1.EventListeners(this);\n  }\n\n  Container.requestFrame = function (callback) {\n    return window.customRequestAnimationFrame(callback);\n  };\n\n  Container.cancelAnimation = function (handle) {\n    window.cancelAnimationFrame(handle);\n  };\n\n  Container.prototype.play = function (force) {\n    var needsUpdate = this.paused || force;\n\n    if (this.paused) {\n      this.paused = false;\n    }\n\n    if (needsUpdate) {\n      for (var id in this.plugins) {\n        var plugin = this.plugins[id];\n\n        if (plugin.play) {\n          plugin.play();\n        }\n      }\n\n      this.lastFrameTime = performance.now();\n    }\n\n    this.draw();\n  };\n\n  Container.prototype.pause = function () {\n    if (this.drawAnimationFrame !== undefined) {\n      Container.cancelAnimation(this.drawAnimationFrame);\n      delete this.drawAnimationFrame;\n    }\n\n    if (!this.paused) {\n      for (var id in this.plugins) {\n        var plugin = this.plugins[id];\n\n        if (plugin.pause) {\n          plugin.pause();\n        }\n      }\n\n      if (!this.pageHidden) {\n        this.paused = true;\n      }\n    }\n  };\n\n  Container.prototype.draw = function () {\n    var _this = this;\n\n    this.drawAnimationFrame = Container.requestFrame(function (t) {\n      return _this.drawer.nextFrame(t);\n    });\n  };\n\n  Container.prototype.getAnimationStatus = function () {\n    return !this.paused;\n  };\n\n  Container.prototype.densityAutoParticles = function () {\n    this.initDensityFactor();\n    var numberOptions = this.options.particles.number;\n    var optParticlesNumber = numberOptions.value;\n    var optParticlesLimit = numberOptions.limit > 0 ? numberOptions.limit : optParticlesNumber;\n    var particlesNumber = Math.min(optParticlesNumber, optParticlesLimit) * this.density;\n    var particlesCount = this.particles.count;\n\n    if (particlesCount < particlesNumber) {\n      this.particles.push(Math.abs(particlesNumber - particlesCount));\n    } else if (particlesCount > particlesNumber) {\n      this.particles.removeQuantity(particlesCount - particlesNumber);\n    }\n  };\n\n  Container.prototype.initDensityFactor = function () {\n    var densityOptions = this.options.particles.number.density;\n\n    if (!this.canvas.element || !densityOptions.enable) {\n      return;\n    }\n\n    var canvas = this.canvas.element;\n    var pxRatio = this.retina.pixelRatio;\n    this.density = canvas.width * canvas.height / (densityOptions.factor * pxRatio * densityOptions.area);\n  };\n\n  Container.prototype.destroy = function () {\n    this.stop();\n    this.retina.reset();\n    this.canvas.destroy();\n    delete this.interactivity;\n    delete this.options;\n    delete this.retina;\n    delete this.canvas;\n    delete this.particles;\n    delete this.bubble;\n    delete this.repulse;\n    delete this.drawer;\n    delete this.eventListeners;\n\n    for (var type in this.drawers) {\n      var drawer = this.drawers[type];\n\n      if (drawer.destroy !== undefined) {\n        drawer.destroy(this);\n      }\n    }\n\n    this.drawers = {};\n    this.destroyed = true;\n  };\n\n  Container.prototype.exportImg = function (callback) {\n    this.exportImage(callback);\n  };\n\n  Container.prototype.exportImage = function (callback, type, quality) {\n    var _a;\n\n    return (_a = this.canvas.element) === null || _a === void 0 ? void 0 : _a.toBlob(callback, type !== null && type !== void 0 ? type : \"image/png\", quality);\n  };\n\n  Container.prototype.exportConfiguration = function () {\n    return JSON.stringify(this.options, undefined, 2);\n  };\n\n  Container.prototype.refresh = function () {\n    return tslib_1.__awaiter(this, void 0, void 0, function () {\n      return tslib_1.__generator(this, function (_a) {\n        switch (_a.label) {\n          case 0:\n            this.stop();\n            return [4, this.start()];\n\n          case 1:\n            _a.sent();\n\n            return [2];\n        }\n      });\n    });\n  };\n\n  Container.prototype.stop = function () {\n    if (!this.started) {\n      return;\n    }\n\n    this.started = false;\n    this.eventListeners.removeListeners();\n    this.pause();\n    this.particles.clear();\n    this.retina.reset();\n    this.canvas.clear();\n\n    for (var id in this.plugins) {\n      var plugin = this.plugins[id];\n\n      if (plugin.stop !== undefined) {\n        plugin.stop();\n      }\n    }\n\n    this.plugins = {};\n    delete this.particles.lineLinkedColor;\n  };\n\n  Container.prototype.start = function () {\n    return tslib_1.__awaiter(this, void 0, void 0, function () {\n      var availablePlugins, id, _a, _b, _i, id, plugin, _c, _d, _e, type, drawer;\n\n      return tslib_1.__generator(this, function (_f) {\n        switch (_f.label) {\n          case 0:\n            if (this.started) {\n              return [2];\n            }\n\n            availablePlugins = Plugins_1.Plugins.getAvailablePlugins(this);\n\n            for (id in availablePlugins) {\n              this.plugins[id] = availablePlugins[id];\n            }\n\n            this.started = true;\n            this.eventListeners.addListeners();\n            _a = [];\n\n            for (_b in this.plugins) _a.push(_b);\n\n            _i = 0;\n            _f.label = 1;\n\n          case 1:\n            if (!(_i < _a.length)) return [3, 5];\n            id = _a[_i];\n            plugin = this.plugins[id];\n            if (!(plugin.startAsync !== undefined)) return [3, 3];\n            return [4, plugin.startAsync()];\n\n          case 2:\n            _f.sent();\n\n            return [3, 4];\n\n          case 3:\n            if (plugin.start !== undefined) {\n              plugin.start();\n            }\n\n            _f.label = 4;\n\n          case 4:\n            _i++;\n            return [3, 1];\n\n          case 5:\n            _c = [];\n\n            for (_d in this.drawers) _c.push(_d);\n\n            _e = 0;\n            _f.label = 6;\n\n          case 6:\n            if (!(_e < _c.length)) return [3, 9];\n            type = _c[_e];\n            drawer = this.drawers[type];\n            if (!(drawer.init !== undefined)) return [3, 8];\n            return [4, drawer.init(this)];\n\n          case 7:\n            _f.sent();\n\n            _f.label = 8;\n\n          case 8:\n            _e++;\n            return [3, 6];\n\n          case 9:\n            this.init();\n            this.play();\n            return [2];\n        }\n      });\n    });\n  };\n\n  Container.prototype.init = function () {\n    this.retina.init();\n    this.canvas.init();\n    this.particles.init();\n    this.densityAutoParticles();\n\n    for (var id in this.plugins) {\n      var plugin = this.plugins[id];\n\n      if (plugin.init !== undefined) {\n        plugin.init();\n      }\n    }\n  };\n\n  return Container;\n}();\n\nexports.Container = Container;","map":{"version":3,"sources":["/Users/samarthgoel/Desktop/web-dev-website/node_modules/tsparticles/dist/Core/Container.js"],"names":["Object","defineProperty","exports","value","tslib_1","require","Canvas_1","EventListeners_1","Particles_1","Retina_1","FrameManager_1","Options_1","Plugins_1","SimplexNoise_1","Container","id","params","presets","_i","arguments","length","started","destroyed","paused","sourceOptions","lastFrameTime","pageHidden","retina","Retina","canvas","Canvas","particles","Particles","drawer","FrameManager","interactivity","mouse","bubble","repulse","plugins","drawers","density","options","Options","_a","presets_1","preset","load","Plugins","getPreset","_b","_c","getSupportedShapes","type","getShapeDrawer","simplex","SimplexNoise","eventListeners","EventListeners","requestFrame","callback","window","customRequestAnimationFrame","cancelAnimation","handle","cancelAnimationFrame","prototype","play","force","needsUpdate","plugin","performance","now","draw","pause","drawAnimationFrame","undefined","_this","t","nextFrame","getAnimationStatus","densityAutoParticles","initDensityFactor","numberOptions","number","optParticlesNumber","optParticlesLimit","limit","particlesNumber","Math","min","particlesCount","count","push","abs","removeQuantity","densityOptions","element","enable","pxRatio","pixelRatio","width","height","factor","area","destroy","stop","reset","exportImg","exportImage","quality","toBlob","exportConfiguration","JSON","stringify","refresh","__awaiter","__generator","label","start","sent","removeListeners","clear","lineLinkedColor","availablePlugins","_d","_e","_f","getAvailablePlugins","addListeners","startAsync","init"],"mappings":"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","sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar tslib_1 = require(\"tslib\");\nvar Canvas_1 = require(\"./Canvas\");\nvar EventListeners_1 = require(\"../Utils/EventListeners\");\nvar Particles_1 = require(\"./Particles\");\nvar Retina_1 = require(\"./Retina\");\nvar FrameManager_1 = require(\"./FrameManager\");\nvar Options_1 = require(\"../Options/Classes/Options\");\nvar Plugins_1 = require(\"../Utils/Plugins\");\nvar SimplexNoise_1 = require(\"../Utils/SimplexNoise\");\nvar Container = (function () {\n    function Container(id, params) {\n        var presets = [];\n        for (var _i = 2; _i < arguments.length; _i++) {\n            presets[_i - 2] = arguments[_i];\n        }\n        this.started = false;\n        this.destroyed = false;\n        this.id = id;\n        this.paused = true;\n        this.sourceOptions = params;\n        this.lastFrameTime = 0;\n        this.pageHidden = false;\n        this.retina = new Retina_1.Retina(this);\n        this.canvas = new Canvas_1.Canvas(this);\n        this.particles = new Particles_1.Particles(this);\n        this.drawer = new FrameManager_1.FrameManager(this);\n        this.interactivity = {\n            mouse: {},\n        };\n        this.bubble = {};\n        this.repulse = { particles: [] };\n        this.plugins = {};\n        this.drawers = {};\n        this.density = 1;\n        this.options = new Options_1.Options();\n        for (var _a = 0, presets_1 = presets; _a < presets_1.length; _a++) {\n            var preset = presets_1[_a];\n            this.options.load(Plugins_1.Plugins.getPreset(preset));\n        }\n        for (var _b = 0, _c = Plugins_1.Plugins.getSupportedShapes(); _b < _c.length; _b++) {\n            var type = _c[_b];\n            this.drawers[type] = Plugins_1.Plugins.getShapeDrawer(type);\n        }\n        if (this.sourceOptions) {\n            this.options.load(this.sourceOptions);\n        }\n        this.simplex = new SimplexNoise_1.SimplexNoise();\n        this.eventListeners = new EventListeners_1.EventListeners(this);\n    }\n    Container.requestFrame = function (callback) {\n        return window.customRequestAnimationFrame(callback);\n    };\n    Container.cancelAnimation = function (handle) {\n        window.cancelAnimationFrame(handle);\n    };\n    Container.prototype.play = function (force) {\n        var needsUpdate = this.paused || force;\n        if (this.paused) {\n            this.paused = false;\n        }\n        if (needsUpdate) {\n            for (var id in this.plugins) {\n                var plugin = this.plugins[id];\n                if (plugin.play) {\n                    plugin.play();\n                }\n            }\n            this.lastFrameTime = performance.now();\n        }\n        this.draw();\n    };\n    Container.prototype.pause = function () {\n        if (this.drawAnimationFrame !== undefined) {\n            Container.cancelAnimation(this.drawAnimationFrame);\n            delete this.drawAnimationFrame;\n        }\n        if (!this.paused) {\n            for (var id in this.plugins) {\n                var plugin = this.plugins[id];\n                if (plugin.pause) {\n                    plugin.pause();\n                }\n            }\n            if (!this.pageHidden) {\n                this.paused = true;\n            }\n        }\n    };\n    Container.prototype.draw = function () {\n        var _this = this;\n        this.drawAnimationFrame = Container.requestFrame(function (t) { return _this.drawer.nextFrame(t); });\n    };\n    Container.prototype.getAnimationStatus = function () {\n        return !this.paused;\n    };\n    Container.prototype.densityAutoParticles = function () {\n        this.initDensityFactor();\n        var numberOptions = this.options.particles.number;\n        var optParticlesNumber = numberOptions.value;\n        var optParticlesLimit = numberOptions.limit > 0 ? numberOptions.limit : optParticlesNumber;\n        var particlesNumber = Math.min(optParticlesNumber, optParticlesLimit) * this.density;\n        var particlesCount = this.particles.count;\n        if (particlesCount < particlesNumber) {\n            this.particles.push(Math.abs(particlesNumber - particlesCount));\n        }\n        else if (particlesCount > particlesNumber) {\n            this.particles.removeQuantity(particlesCount - particlesNumber);\n        }\n    };\n    Container.prototype.initDensityFactor = function () {\n        var densityOptions = this.options.particles.number.density;\n        if (!this.canvas.element || !densityOptions.enable) {\n            return;\n        }\n        var canvas = this.canvas.element;\n        var pxRatio = this.retina.pixelRatio;\n        this.density = (canvas.width * canvas.height) / (densityOptions.factor * pxRatio * densityOptions.area);\n    };\n    Container.prototype.destroy = function () {\n        this.stop();\n        this.retina.reset();\n        this.canvas.destroy();\n        delete this.interactivity;\n        delete this.options;\n        delete this.retina;\n        delete this.canvas;\n        delete this.particles;\n        delete this.bubble;\n        delete this.repulse;\n        delete this.drawer;\n        delete this.eventListeners;\n        for (var type in this.drawers) {\n            var drawer = this.drawers[type];\n            if (drawer.destroy !== undefined) {\n                drawer.destroy(this);\n            }\n        }\n        this.drawers = {};\n        this.destroyed = true;\n    };\n    Container.prototype.exportImg = function (callback) {\n        this.exportImage(callback);\n    };\n    Container.prototype.exportImage = function (callback, type, quality) {\n        var _a;\n        return (_a = this.canvas.element) === null || _a === void 0 ? void 0 : _a.toBlob(callback, type !== null && type !== void 0 ? type : \"image/png\", quality);\n    };\n    Container.prototype.exportConfiguration = function () {\n        return JSON.stringify(this.options, undefined, 2);\n    };\n    Container.prototype.refresh = function () {\n        return tslib_1.__awaiter(this, void 0, void 0, function () {\n            return tslib_1.__generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        this.stop();\n                        return [4, this.start()];\n                    case 1:\n                        _a.sent();\n                        return [2];\n                }\n            });\n        });\n    };\n    Container.prototype.stop = function () {\n        if (!this.started) {\n            return;\n        }\n        this.started = false;\n        this.eventListeners.removeListeners();\n        this.pause();\n        this.particles.clear();\n        this.retina.reset();\n        this.canvas.clear();\n        for (var id in this.plugins) {\n            var plugin = this.plugins[id];\n            if (plugin.stop !== undefined) {\n                plugin.stop();\n            }\n        }\n        this.plugins = {};\n        delete this.particles.lineLinkedColor;\n    };\n    Container.prototype.start = function () {\n        return tslib_1.__awaiter(this, void 0, void 0, function () {\n            var availablePlugins, id, _a, _b, _i, id, plugin, _c, _d, _e, type, drawer;\n            return tslib_1.__generator(this, function (_f) {\n                switch (_f.label) {\n                    case 0:\n                        if (this.started) {\n                            return [2];\n                        }\n                        availablePlugins = Plugins_1.Plugins.getAvailablePlugins(this);\n                        for (id in availablePlugins) {\n                            this.plugins[id] = availablePlugins[id];\n                        }\n                        this.started = true;\n                        this.eventListeners.addListeners();\n                        _a = [];\n                        for (_b in this.plugins)\n                            _a.push(_b);\n                        _i = 0;\n                        _f.label = 1;\n                    case 1:\n                        if (!(_i < _a.length)) return [3, 5];\n                        id = _a[_i];\n                        plugin = this.plugins[id];\n                        if (!(plugin.startAsync !== undefined)) return [3, 3];\n                        return [4, plugin.startAsync()];\n                    case 2:\n                        _f.sent();\n                        return [3, 4];\n                    case 3:\n                        if (plugin.start !== undefined) {\n                            plugin.start();\n                        }\n                        _f.label = 4;\n                    case 4:\n                        _i++;\n                        return [3, 1];\n                    case 5:\n                        _c = [];\n                        for (_d in this.drawers)\n                            _c.push(_d);\n                        _e = 0;\n                        _f.label = 6;\n                    case 6:\n                        if (!(_e < _c.length)) return [3, 9];\n                        type = _c[_e];\n                        drawer = this.drawers[type];\n                        if (!(drawer.init !== undefined)) return [3, 8];\n                        return [4, drawer.init(this)];\n                    case 7:\n                        _f.sent();\n                        _f.label = 8;\n                    case 8:\n                        _e++;\n                        return [3, 6];\n                    case 9:\n                        this.init();\n                        this.play();\n                        return [2];\n                }\n            });\n        });\n    };\n    Container.prototype.init = function () {\n        this.retina.init();\n        this.canvas.init();\n        this.particles.init();\n        this.densityAutoParticles();\n        for (var id in this.plugins) {\n            var plugin = this.plugins[id];\n            if (plugin.init !== undefined) {\n                plugin.init();\n            }\n        }\n    };\n    return Container;\n}());\nexports.Container = Container;\n"]},"metadata":{},"sourceType":"script"}