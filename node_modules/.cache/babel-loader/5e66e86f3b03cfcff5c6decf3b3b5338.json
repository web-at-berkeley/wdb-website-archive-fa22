{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar ClickMode_1 = require(\"../../../../Enums/Modes/ClickMode\");\n\nvar HoverMode_1 = require(\"../../../../Enums/Modes/HoverMode\");\n\nvar OutMode_1 = require(\"../../../../Enums/OutMode\");\n\nvar Utils_1 = require(\"../../../../Utils/Utils\");\n\nvar DivMode_1 = require(\"../../../../Enums/Modes/DivMode\");\n\nvar Constants_1 = require(\"../../../../Utils/Constants\");\n\nvar Circle_1 = require(\"../../../../Utils/Circle\");\n\nvar Repulser = function () {\n  function Repulser() {}\n\n  Repulser.repulse = function (container, _delta) {\n    var options = container.options;\n    var interactivity = options.interactivity;\n    var hoverEnabled = interactivity.events.onHover.enable;\n    var clickEnabled = interactivity.events.onClick.enable;\n    var mouseMoveStatus = container.interactivity.status === Constants_1.Constants.mouseMoveEvent;\n    var hoverMode = interactivity.events.onHover.mode;\n    var clickMode = interactivity.events.onClick.mode;\n    var divMode = interactivity.events.onDiv.mode;\n\n    if (mouseMoveStatus && hoverEnabled && Utils_1.Utils.isInArray(HoverMode_1.HoverMode.repulse, hoverMode)) {\n      this.hoverRepulse(container);\n    } else if (clickEnabled && Utils_1.Utils.isInArray(ClickMode_1.ClickMode.repulse, clickMode)) {\n      this.clickRepulse(container);\n    } else if (interactivity.events.onDiv.enable && Utils_1.Utils.isInArray(DivMode_1.DivMode.repulse, divMode)) {\n      this.divRepulse(container);\n    }\n  };\n\n  Repulser.divRepulse = function (container) {\n    var options = container.options;\n    var elem = document.getElementById(options.interactivity.events.onDiv.elementId);\n\n    if (!elem) {\n      return;\n    }\n\n    var pos = {\n      x: elem.offsetLeft + elem.offsetWidth / 2,\n      y: elem.offsetTop + elem.offsetHeight / 2\n    };\n    var divWidth = elem.offsetWidth / 2;\n\n    if (container.retina.isRetina) {\n      pos.x *= container.retina.pixelRatio;\n      pos.y *= container.retina.pixelRatio;\n      divWidth *= container.retina.pixelRatio;\n    }\n\n    var repulseRadius = divWidth;\n    this.processRepulse(container, pos, repulseRadius);\n  };\n\n  Repulser.hoverRepulse = function (container) {\n    var mousePos = container.interactivity.mouse.position;\n\n    if (!mousePos) {\n      return;\n    }\n\n    var repulseRadius = container.retina.repulseModeDistance;\n    this.processRepulse(container, mousePos, repulseRadius);\n  };\n\n  Repulser.processRepulse = function (container, position, repulseRadius) {\n    var query = container.particles.quadTree.query(new Circle_1.Circle(position.x, position.y, repulseRadius));\n\n    for (var _i = 0, query_1 = query; _i < query_1.length; _i++) {\n      var particle = query_1[_i];\n      var dx = particle.position.x - position.x;\n      var dy = particle.position.y - position.y;\n      var dist = Math.sqrt(dx * dx + dy * dy);\n      var normVec = {\n        x: dx / dist,\n        y: dy / dist\n      };\n      var velocity = container.options.interactivity.modes.repulse.speed * 100;\n      var repulseFactor = Utils_1.Utils.clamp((1 - Math.pow(dist / repulseRadius, 2)) * velocity, 0, 50);\n      var outMode = particle.particlesOptions.move.outMode;\n      var sizeValue = particle.size.value;\n      var pos = {\n        x: particle.position.x + normVec.x * repulseFactor,\n        y: particle.position.y + normVec.y * repulseFactor\n      };\n\n      if (outMode === OutMode_1.OutMode.bounce || outMode === OutMode_1.OutMode.bounceVertical || outMode === OutMode_1.OutMode.bounceHorizontal) {\n        var isInside = {\n          horizontal: pos.x - sizeValue > 0 && pos.x + sizeValue < container.canvas.size.width,\n          vertical: pos.y - sizeValue > 0 && pos.y + sizeValue < container.canvas.size.height\n        };\n\n        if (outMode === OutMode_1.OutMode.bounceVertical || isInside.horizontal) {\n          particle.position.x = pos.x;\n        }\n\n        if (outMode === OutMode_1.OutMode.bounceHorizontal || isInside.vertical) {\n          particle.position.y = pos.y;\n        }\n      } else {\n        particle.position.x = pos.x;\n        particle.position.y = pos.y;\n      }\n    }\n  };\n\n  Repulser.clickRepulse = function (container) {\n    if (!container.repulse.finish) {\n      if (!container.repulse.count) {\n        container.repulse.count = 0;\n      }\n\n      container.repulse.count++;\n\n      if (container.repulse.count === container.particles.count) {\n        container.repulse.finish = true;\n      }\n    }\n\n    if (container.repulse.clicking) {\n      var repulseDistance = container.retina.repulseModeDistance;\n      var repulseRadius = Math.pow(repulseDistance / 6, 3);\n      var mouseClickPos = container.interactivity.mouse.clickPosition;\n\n      if (mouseClickPos === undefined) {\n        return;\n      }\n\n      var range = new Circle_1.Circle(mouseClickPos.x, mouseClickPos.y, repulseRadius);\n      var query = container.particles.quadTree.query(range);\n\n      for (var _i = 0, query_2 = query; _i < query_2.length; _i++) {\n        var particle = query_2[_i];\n\n        if ((particle === null || particle === void 0 ? void 0 : particle.position) === undefined) {\n          continue;\n        }\n\n        var dx = mouseClickPos.x - particle.position.x;\n        var dy = mouseClickPos.y - particle.position.y;\n        var d = dx * dx + dy * dy;\n        var velocity = container.options.interactivity.modes.repulse.speed;\n        var force = -repulseRadius * velocity / d;\n\n        if (d <= repulseRadius) {\n          container.repulse.particles.push(particle);\n          this.processClickRepulse(container, particle, dx, dy, force);\n        }\n      }\n    } else if (container.repulse.clicking === false) {\n      for (var _a = 0, _b = container.repulse.particles; _a < _b.length; _a++) {\n        var particle = _b[_a];\n        particle.velocity.horizontal = particle.initialVelocity.horizontal;\n        particle.velocity.vertical = particle.initialVelocity.vertical;\n      }\n\n      container.repulse.particles = [];\n    }\n  };\n\n  Repulser.processClickRepulse = function (container, particle, dx, dy, force) {\n    var options = container.options;\n    var f = Math.atan2(dy, dx);\n    particle.velocity.horizontal = force * Math.cos(f);\n    particle.velocity.vertical = force * Math.sin(f);\n    var outMode = options.particles.move.outMode;\n\n    if (outMode === OutMode_1.OutMode.bounce || outMode === OutMode_1.OutMode.bounceHorizontal || outMode === OutMode_1.OutMode.bounceVertical) {\n      var pos = {\n        x: particle.position.x + particle.velocity.horizontal,\n        y: particle.position.y + particle.velocity.vertical\n      };\n\n      if (outMode !== OutMode_1.OutMode.bounceVertical) {\n        if (pos.x + particle.size.value > container.canvas.size.width || pos.x - particle.size.value < 0) {\n          particle.velocity.horizontal = -particle.velocity.horizontal;\n        }\n      }\n\n      if (outMode !== OutMode_1.OutMode.bounceHorizontal) {\n        if (pos.y + particle.size.value > container.canvas.size.height || pos.y - particle.size.value < 0) {\n          particle.velocity.vertical = -particle.velocity.vertical;\n        }\n      }\n    }\n  };\n\n  return Repulser;\n}();\n\nexports.Repulser = Repulser;","map":{"version":3,"sources":["/Users/samarthgoel/Desktop/web-dev-website/node_modules/tsparticles/dist/Core/Particle/Interactions/Mouse/Repulser.js"],"names":["Object","defineProperty","exports","value","ClickMode_1","require","HoverMode_1","OutMode_1","Utils_1","DivMode_1","Constants_1","Circle_1","Repulser","repulse","container","_delta","options","interactivity","hoverEnabled","events","onHover","enable","clickEnabled","onClick","mouseMoveStatus","status","Constants","mouseMoveEvent","hoverMode","mode","clickMode","divMode","onDiv","Utils","isInArray","HoverMode","hoverRepulse","ClickMode","clickRepulse","DivMode","divRepulse","elem","document","getElementById","elementId","pos","x","offsetLeft","offsetWidth","y","offsetTop","offsetHeight","divWidth","retina","isRetina","pixelRatio","repulseRadius","processRepulse","mousePos","mouse","position","repulseModeDistance","query","particles","quadTree","Circle","_i","query_1","length","particle","dx","dy","dist","Math","sqrt","normVec","velocity","modes","speed","repulseFactor","clamp","pow","outMode","particlesOptions","move","sizeValue","size","OutMode","bounce","bounceVertical","bounceHorizontal","isInside","horizontal","canvas","width","vertical","height","finish","count","clicking","repulseDistance","mouseClickPos","clickPosition","undefined","range","query_2","d","force","push","processClickRepulse","_a","_b","initialVelocity","f","atan2","cos","sin"],"mappings":"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","sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar ClickMode_1 = require(\"../../../../Enums/Modes/ClickMode\");\nvar HoverMode_1 = require(\"../../../../Enums/Modes/HoverMode\");\nvar OutMode_1 = require(\"../../../../Enums/OutMode\");\nvar Utils_1 = require(\"../../../../Utils/Utils\");\nvar DivMode_1 = require(\"../../../../Enums/Modes/DivMode\");\nvar Constants_1 = require(\"../../../../Utils/Constants\");\nvar Circle_1 = require(\"../../../../Utils/Circle\");\nvar Repulser = (function () {\n    function Repulser() {\n    }\n    Repulser.repulse = function (container, _delta) {\n        var options = container.options;\n        var interactivity = options.interactivity;\n        var hoverEnabled = interactivity.events.onHover.enable;\n        var clickEnabled = interactivity.events.onClick.enable;\n        var mouseMoveStatus = container.interactivity.status === Constants_1.Constants.mouseMoveEvent;\n        var hoverMode = interactivity.events.onHover.mode;\n        var clickMode = interactivity.events.onClick.mode;\n        var divMode = interactivity.events.onDiv.mode;\n        if (mouseMoveStatus && hoverEnabled && Utils_1.Utils.isInArray(HoverMode_1.HoverMode.repulse, hoverMode)) {\n            this.hoverRepulse(container);\n        }\n        else if (clickEnabled && Utils_1.Utils.isInArray(ClickMode_1.ClickMode.repulse, clickMode)) {\n            this.clickRepulse(container);\n        }\n        else if (interactivity.events.onDiv.enable && Utils_1.Utils.isInArray(DivMode_1.DivMode.repulse, divMode)) {\n            this.divRepulse(container);\n        }\n    };\n    Repulser.divRepulse = function (container) {\n        var options = container.options;\n        var elem = document.getElementById(options.interactivity.events.onDiv.elementId);\n        if (!elem) {\n            return;\n        }\n        var pos = {\n            x: (elem.offsetLeft + elem.offsetWidth / 2),\n            y: (elem.offsetTop + elem.offsetHeight / 2),\n        };\n        var divWidth = elem.offsetWidth / 2;\n        if (container.retina.isRetina) {\n            pos.x *= container.retina.pixelRatio;\n            pos.y *= container.retina.pixelRatio;\n            divWidth *= container.retina.pixelRatio;\n        }\n        var repulseRadius = divWidth;\n        this.processRepulse(container, pos, repulseRadius);\n    };\n    Repulser.hoverRepulse = function (container) {\n        var mousePos = container.interactivity.mouse.position;\n        if (!mousePos) {\n            return;\n        }\n        var repulseRadius = container.retina.repulseModeDistance;\n        this.processRepulse(container, mousePos, repulseRadius);\n    };\n    Repulser.processRepulse = function (container, position, repulseRadius) {\n        var query = container.particles.quadTree.query(new Circle_1.Circle(position.x, position.y, repulseRadius));\n        for (var _i = 0, query_1 = query; _i < query_1.length; _i++) {\n            var particle = query_1[_i];\n            var dx = particle.position.x - position.x;\n            var dy = particle.position.y - position.y;\n            var dist = Math.sqrt(dx * dx + dy * dy);\n            var normVec = {\n                x: dx / dist,\n                y: dy / dist,\n            };\n            var velocity = container.options.interactivity.modes.repulse.speed * 100;\n            var repulseFactor = Utils_1.Utils.clamp((1 - Math.pow(dist / repulseRadius, 2)) * velocity, 0, 50);\n            var outMode = particle.particlesOptions.move.outMode;\n            var sizeValue = particle.size.value;\n            var pos = {\n                x: particle.position.x + normVec.x * repulseFactor,\n                y: particle.position.y + normVec.y * repulseFactor,\n            };\n            if (outMode === OutMode_1.OutMode.bounce ||\n                outMode === OutMode_1.OutMode.bounceVertical ||\n                outMode === OutMode_1.OutMode.bounceHorizontal) {\n                var isInside = {\n                    horizontal: pos.x - sizeValue > 0 && pos.x + sizeValue < container.canvas.size.width,\n                    vertical: pos.y - sizeValue > 0 && pos.y + sizeValue < container.canvas.size.height,\n                };\n                if (outMode === OutMode_1.OutMode.bounceVertical || isInside.horizontal) {\n                    particle.position.x = pos.x;\n                }\n                if (outMode === OutMode_1.OutMode.bounceHorizontal || isInside.vertical) {\n                    particle.position.y = pos.y;\n                }\n            }\n            else {\n                particle.position.x = pos.x;\n                particle.position.y = pos.y;\n            }\n        }\n    };\n    Repulser.clickRepulse = function (container) {\n        if (!container.repulse.finish) {\n            if (!container.repulse.count) {\n                container.repulse.count = 0;\n            }\n            container.repulse.count++;\n            if (container.repulse.count === container.particles.count) {\n                container.repulse.finish = true;\n            }\n        }\n        if (container.repulse.clicking) {\n            var repulseDistance = container.retina.repulseModeDistance;\n            var repulseRadius = Math.pow(repulseDistance / 6, 3);\n            var mouseClickPos = container.interactivity.mouse.clickPosition;\n            if (mouseClickPos === undefined) {\n                return;\n            }\n            var range = new Circle_1.Circle(mouseClickPos.x, mouseClickPos.y, repulseRadius);\n            var query = container.particles.quadTree.query(range);\n            for (var _i = 0, query_2 = query; _i < query_2.length; _i++) {\n                var particle = query_2[_i];\n                if ((particle === null || particle === void 0 ? void 0 : particle.position) === undefined) {\n                    continue;\n                }\n                var dx = mouseClickPos.x - particle.position.x;\n                var dy = mouseClickPos.y - particle.position.y;\n                var d = dx * dx + dy * dy;\n                var velocity = container.options.interactivity.modes.repulse.speed;\n                var force = -repulseRadius * velocity / d;\n                if (d <= repulseRadius) {\n                    container.repulse.particles.push(particle);\n                    this.processClickRepulse(container, particle, dx, dy, force);\n                }\n            }\n        }\n        else if (container.repulse.clicking === false) {\n            for (var _a = 0, _b = container.repulse.particles; _a < _b.length; _a++) {\n                var particle = _b[_a];\n                particle.velocity.horizontal = particle.initialVelocity.horizontal;\n                particle.velocity.vertical = particle.initialVelocity.vertical;\n            }\n            container.repulse.particles = [];\n        }\n    };\n    Repulser.processClickRepulse = function (container, particle, dx, dy, force) {\n        var options = container.options;\n        var f = Math.atan2(dy, dx);\n        particle.velocity.horizontal = force * Math.cos(f);\n        particle.velocity.vertical = force * Math.sin(f);\n        var outMode = options.particles.move.outMode;\n        if (outMode === OutMode_1.OutMode.bounce || outMode === OutMode_1.OutMode.bounceHorizontal || outMode === OutMode_1.OutMode.bounceVertical) {\n            var pos = {\n                x: particle.position.x + particle.velocity.horizontal,\n                y: particle.position.y + particle.velocity.vertical,\n            };\n            if (outMode !== OutMode_1.OutMode.bounceVertical) {\n                if (pos.x + particle.size.value > container.canvas.size.width ||\n                    pos.x - particle.size.value < 0) {\n                    particle.velocity.horizontal = -particle.velocity.horizontal;\n                }\n            }\n            if (outMode !== OutMode_1.OutMode.bounceHorizontal) {\n                if (pos.y + particle.size.value > container.canvas.size.height ||\n                    pos.y - particle.size.value < 0) {\n                    particle.velocity.vertical = -particle.velocity.vertical;\n                }\n            }\n        }\n    };\n    return Repulser;\n}());\nexports.Repulser = Repulser;\n"]},"metadata":{},"sourceType":"script"}